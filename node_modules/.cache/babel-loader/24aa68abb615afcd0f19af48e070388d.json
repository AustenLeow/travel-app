{"ast":null,"code":"var STORAGE_KEY = '__cart';\nvar saveListener = null;\nexport var listen = function listen(cb) {\n  saveListener = cb;\n}; // ugly but storage listener is not working for the same window..\n\nexport var list = function list(key) {\n  return JSON.parse(localStorage.getItem(key || STORAGE_KEY)) || [];\n};\nexport var save = function save(data, key) {\n  localStorage.setItem(key || STORAGE_KEY, JSON.stringify(data));\n  if (saveListener) saveListener(list(key || STORAGE_KEY));\n};\nexport var clear = function clear(key) {\n  localStorage.removeItem(key || STORAGE_KEY);\n  if (saveListener) saveListener(list(key || STORAGE_KEY));\n};","map":{"version":3,"names":["STORAGE_KEY","saveListener","listen","cb","list","key","JSON","parse","localStorage","getItem","save","data","setItem","stringify","clear","removeItem"],"sources":["/Users/austenleow/Desktop/travel-app-main/node_modules/cart-localstorage/utils/localstorage.js"],"sourcesContent":["const STORAGE_KEY = '__cart'\n\nlet saveListener = null;\nexport const listen = (cb) => { saveListener = cb }; // ugly but storage listener is not working for the same window..\n\nexport const list = (key) => JSON.parse(localStorage.getItem(key || STORAGE_KEY)) || [];\n\nexport const save = (data, key) => {\n\tlocalStorage.setItem(key || STORAGE_KEY, JSON.stringify(data));\n\tif(saveListener) saveListener(list(key || STORAGE_KEY))\n}\n\nexport const clear = (key) => {\n\tlocalStorage.removeItem(key || STORAGE_KEY)\n\tif(saveListener) saveListener(list(key || STORAGE_KEY))\n}\n"],"mappings":"AAAA,IAAMA,WAAW,GAAG,QAApB;AAEA,IAAIC,YAAY,GAAG,IAAnB;AACA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,EAAD,EAAQ;EAAEF,YAAY,GAAGE,EAAf;AAAmB,CAA5C,C,CAA8C;;AAErD,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,GAAD;EAAA,OAASC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBJ,GAAG,IAAIL,WAA5B,CAAX,KAAwD,EAAjE;AAAA,CAAb;AAEP,OAAO,IAAMU,IAAI,GAAG,SAAPA,IAAO,CAACC,IAAD,EAAON,GAAP,EAAe;EAClCG,YAAY,CAACI,OAAb,CAAqBP,GAAG,IAAIL,WAA5B,EAAyCM,IAAI,CAACO,SAAL,CAAeF,IAAf,CAAzC;EACA,IAAGV,YAAH,EAAiBA,YAAY,CAACG,IAAI,CAACC,GAAG,IAAIL,WAAR,CAAL,CAAZ;AACjB,CAHM;AAKP,OAAO,IAAMc,KAAK,GAAG,SAARA,KAAQ,CAACT,GAAD,EAAS;EAC7BG,YAAY,CAACO,UAAb,CAAwBV,GAAG,IAAIL,WAA/B;EACA,IAAGC,YAAH,EAAiBA,YAAY,CAACG,IAAI,CAACC,GAAG,IAAIL,WAAR,CAAL,CAAZ;AACjB,CAHM"},"metadata":{},"sourceType":"module"}