{"ast":null,"code":"import _slicedToArray from\"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import\"../App.css\";import Axios from\"axios\";import{useNavigate}from\"react-router-dom\";import Header from\"../components/Header\";import wanderlust from\"./../images/Wanderlust.jpg\";import{AccountContext}from\"../components/cognito-api/Account\";import Status from\"../components/cognito-api/Status\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(props){var url=\"heap-travelapp.herokuapp.com/api/v1/user\";var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useContext=useContext(AccountContext),authenticate=_useContext.authenticate;var submit=function submit(e){e.preventDefault();authenticate(email,password).then(function(data){console.log(\"Logged In!\",data,data.tokens.accessToken);navigate('/');localStorage.clear();localStorage.setItem(\"Token\",data.tokens.accessToken);}).catch(function(err){alert(\"Invalid username/password!\");console.error(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage-Main\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Status,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage-Main-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Useremail\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"// placeholder=\"st@gmail.com\"\n,value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage-Main-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Userpassword\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"// placeholder=\"smartest man alive\"\n,value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginPage-Submition\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"Login\",children:\"Log in\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"LoginQuestion\",children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Signup\",onClick:function onClick(){return navigate(\"../signup\");},children:\"Sign Up\"})]})]})]});}export default LoginPage;","map":{"version":3,"names":["React","useState","useContext","Axios","useNavigate","Header","wanderlust","AccountContext","Status","LoginPage","props","url","navigate","password","setPassword","email","setEmail","authenticate","submit","e","preventDefault","then","data","console","log","tokens","accessToken","localStorage","clear","setItem","catch","err","alert","error","target","value"],"sources":["/Users/austenleow/Desktop/travel-app-main/src/Pages/LoginPage.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport \"../App.css\";\r\nimport Axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport wanderlust from \"./../images/Wanderlust.jpg\";\r\nimport { AccountContext } from \"../components/cognito-api/Account\"\r\nimport Status from \"../components/cognito-api/Status\"\r\n\r\n\r\nfunction LoginPage(props) {\r\n  const url = \"heap-travelapp.herokuapp.com/api/v1/user\";\r\n\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const { authenticate } = useContext(AccountContext)\r\n  \r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n\r\n    authenticate(email, password).then(data => {\r\n      console.log(\"Logged In!\", data, data.tokens.accessToken)\r\n      navigate('/');\r\n      localStorage.clear()\r\n      localStorage.setItem(\"Token\", data.tokens.accessToken)\r\n    }).catch(err => {\r\n      alert(\"Invalid username/password!\");\r\n      console.error(err);\r\n    })\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"LoginPage-Main\">\r\n      <Header />\r\n      <br></br>\r\n      <Status/>\r\n      <form onSubmit={submit}>\r\n        <div className=\"LoginPage-Main-1\">\r\n          <label htmlFor=\"Useremail\">Email:</label>\r\n          <input\r\n            type=\"text\"\r\n            // placeholder=\"st@gmail.com\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"LoginPage-Main-2\">\r\n          <label htmlFor=\"Userpassword\">Password:</label>\r\n          <input\r\n            type=\"text\"\r\n            // placeholder=\"smartest man alive\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"LoginPage-Submition\">\r\n          <button className=\"Login\">\r\n            Log in\r\n          </button>\r\n          <h3 className=\"LoginQuestion\">Don't have an account?</h3>\r\n          <button className=\"Signup\" onClick={() => navigate(\"../signup\")}>\r\n            Sign Up\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n"],"mappings":"+HAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,MAAO,YAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,WAAP,KAAuB,4BAAvB,CACA,OAASC,cAAT,KAA+B,mCAA/B,CACA,MAAOC,OAAP,KAAmB,kCAAnB,C,wFAGA,QAASC,UAAT,CAAmBC,KAAnB,CAA0B,CACxB,GAAMC,IAAG,CAAG,0CAAZ,CAEA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAA0Bb,QAAQ,CAAC,EAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,gBAAyBd,UAAU,CAACK,cAAD,CAAnC,CAAQU,YAAR,aAAQA,YAAR,CAGA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GAEAH,YAAY,CAACF,KAAD,CAAQF,QAAR,CAAZ,CAA8BQ,IAA9B,CAAmC,SAAAC,IAAI,CAAI,CACzCC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,IAA1B,CAAgCA,IAAI,CAACG,MAAL,CAAYC,WAA5C,EACAd,QAAQ,CAAC,GAAD,CAAR,CACAe,YAAY,CAACC,KAAb,GACAD,YAAY,CAACE,OAAb,CAAqB,OAArB,CAA8BP,IAAI,CAACG,MAAL,CAAYC,WAA1C,EACD,CALD,EAKGI,KALH,CAKS,SAAAC,GAAG,CAAI,CACdC,KAAK,CAAC,4BAAD,CAAL,CACAT,OAAO,CAACU,KAAR,CAAcF,GAAd,EACD,CARD,EAUD,CAbD,CAeA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAFF,cAGE,KAAC,MAAD,IAHF,cAIE,cAAM,QAAQ,CAAEb,MAAhB,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,cAAO,OAAO,CAAC,WAAf,oBADF,cAEE,cACE,IAAI,CAAC,MACL;AAFF,CAGE,KAAK,CAAEH,KAHT,CAIE,QAAQ,CAAE,kBAACI,CAAD,QAAOH,SAAQ,CAACG,CAAC,CAACe,MAAF,CAASC,KAAV,CAAf,EAJZ,EAFF,GADF,cAWE,aAAK,SAAS,CAAC,kBAAf,wBACE,cAAO,OAAO,CAAC,cAAf,uBADF,cAEE,cACE,IAAI,CAAC,MACL;AAFF,CAGE,KAAK,CAAEtB,QAHT,CAIE,QAAQ,CAAE,kBAACM,CAAD,QAAOL,YAAW,CAACK,CAAC,CAACe,MAAF,CAASC,KAAV,CAAlB,EAJZ,EAFF,GAXF,cAoBE,aAAK,SAAS,CAAC,qBAAf,wBACE,eAAQ,SAAS,CAAC,OAAlB,oBADF,cAIE,WAAI,SAAS,CAAC,eAAd,oCAJF,cAKE,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,yBAAMvB,SAAQ,CAAC,WAAD,CAAd,EAApC,qBALF,GApBF,GAJF,GADF,CAqCD,CAED,cAAeH,UAAf"},"metadata":{},"sourceType":"module"}