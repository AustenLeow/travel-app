{"ast":null,"code":"import _objectSpread from\"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useState}from\"react\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var ShoppingCartContext=/*#__PURE__*/createContext({});export function useShoppingCart(){return useContext(ShoppingCartContext);}export function ShoppingCartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var cartQuantity=cartItems.reduce(function(quantity,item){return item.quantity+quantity;},0);function getItemQuantity(id){var _cartItems$find;return((_cartItems$find=cartItems.find(function(item){return item.id===id;}))===null||_cartItems$find===void 0?void 0:_cartItems$find.quantity)||0;}function increaseCartQuantity(id){setCartItems(function(currItems){if(currItems.find(function(item){return item.id===id;})==null){return[].concat(_toConsumableArray(currItems),[{id:id,quantity:1}]);}else{return currItems.map(function(item){if(item.id==id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});}else{return item;}});}});}function decreaseCartQuantity(id){setCartItems(function(currItems){var _currItems$find;if(((_currItems$find=currItems.find(function(item){return item.id===id;}))===null||_currItems$find===void 0?void 0:_currItems$find.quantity)===1){return currItems.filter(function(item){return item.id!==id;});}else{return currItems.map(function(item){if(item.id==id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});}else{return item;}});}});}function removeFromCart(id){setCartItems(function(currItems){return currItems.filter(function(item){return item.id!==id;});});}return/*#__PURE__*/_jsx(ShoppingCartContext.Provider,{value:{getItemQuantity:getItemQuantity,increaseCartQuantity:increaseCartQuantity,decreaseCartQuantity:decreaseCartQuantity,removeFromCart:removeFromCart,cartItems:cartItems,cartQuantity:cartQuantity},children:children});}","map":{"version":3,"names":["createContext","useContext","useState","React","ShoppingCartContext","useShoppingCart","ShoppingCartProvider","children","cartItems","setCartItems","cartQuantity","reduce","quantity","item","getItemQuantity","id","find","increaseCartQuantity","currItems","map","decreaseCartQuantity","filter","removeFromCart"],"sources":["/Users/austenleow/Desktop/travel-app-main/src/context/ShoppingCartContext.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\";\r\nimport React from \"react\";\r\n\r\n\r\ntype ShoppingCartProviderProps = {\r\n    children: ReactNode\r\n}\r\n\r\ntype ShoppingCartContext = {\r\n    cartQuantity: number\r\n    cartItems:CartItem[]\r\n    getItemQuantity: (id:number) => number\r\n    increaseCartQuantity: (id:number) => void\r\n    decreaseCartQuantity: (id:number) => void\r\n    removeFromCart: (id:number) => void\r\n}\r\n\r\ntype CartItem = {\r\n    id: number\r\n    quantity: number\r\n}\r\n\r\nconst ShoppingCartContext = createContext({} as ShoppingCartContext)\r\n\r\nexport function useShoppingCart(){\r\n    return useContext(ShoppingCartContext)\r\n}\r\n\r\n\r\n\r\nexport function ShoppingCartProvider({ children} : ShoppingCartProviderProps) {\r\n\r\n    const [cartItems, setCartItems] = useState<CartItem[]>([])\r\n    const cartQuantity = cartItems.reduce((quantity, item) => item.quantity + quantity,0)\r\n\r\n\r\n    function getItemQuantity(id:number){\r\n        return cartItems.find(item => item.id === id)?.quantity || 0\r\n    }\r\n    function increaseCartQuantity(id :number){\r\n        setCartItems(currItems => {\r\n            if (currItems.find(item => item.id === id) == null){\r\n            return [...currItems, {id, quantity:1}]\r\n            } else {\r\n                return currItems.map(item => {\r\n                    if (item.id == id){\r\n                        return {...item , quantity: item.quantity + 1 }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    function decreaseCartQuantity(id :number){\r\n        setCartItems(currItems => {\r\n            if (currItems.find(item => item.id === id)?.quantity === 1){\r\n            return currItems.filter(item => item.id !== id)\r\n            } else {\r\n                return currItems.map(item => {\r\n                    if (item.id == id){\r\n                        return {...item , quantity: item.quantity - 1 }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    function removeFromCart(id :number){\r\n        setCartItems(currItems => {\r\n            return currItems.filter(item => item.id !== id)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <ShoppingCartContext.Provider value = {{ getItemQuantity , increaseCartQuantity, decreaseCartQuantity, removeFromCart, cartItems, cartQuantity }}>\r\n            { children}\r\n        </ShoppingCartContext.Provider>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}