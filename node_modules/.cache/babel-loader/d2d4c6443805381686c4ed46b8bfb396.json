{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"../components/Header\";import Home from\"../components/Home\";import data from\"../data\";import axios from\"axios\";import{CartProvider,useCart}from\"react-use-cart\";import{AccountContext}from\"../components/cognito-api/Account\";import Status from\"../components/cognito-api/Status\";// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import {PaymentElement} from '@stripe/react-stripe-js';\n// const stripePromise = loadStripe(\"pk_test_GvF3BSyx8RSXMK5yAFhqEd3H\");\n// const CheckoutForm = () => {\n//   return (\n//     <form>\n//       <PaymentElement />\n//       <button>Submit</button>\n//     </form>\n//   );\n// };\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(props){var _useCart=useCart(),addItem=_useCart.addItem;var products=[{id:1,name:\"Marina\",price:200,quantity:1,valid:false},{id:2,name:\"History\",price:20,quantity:1,valid:false},{id:3,name:\"Zoo\",price:30,quantity:1,valid:false},{id:4,name:\"Discover\",price:30,quantity:1,valid:false},{id:5,name:\"Pulau\",price:30,quantity:1,valid:false}];var _useCart2=useCart(),isEmpty=_useCart2.isEmpty,totalUniqueItems=_useCart2.totalUniqueItems,items=_useCart2.items,updateItemQuantity=_useCart2.updateItemQuantity,removeItem=_useCart2.removeItem;function delmarina(){var token=localStorage.getItem(\"Token\");var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.delete(\"/api/v1/premadetrip/Marina\",config).then(function(data){console.log(data.data);// localStorage.setItem(\"Items\", data.data);\n// console.log(localStorage.getItem(\"Items\"))\n});axios.delete(\"/api/v1/premadetrip/History\",config).then(function(data){console.log(data.data);// localStorage.setItem(\"Items\", data.data);\n// console.log(localStorage.getItem(\"Items\"))\n});axios.delete(\"/api/v1/premadetrip/Zoo\",config).then(function(data){console.log(data.data);// localStorage.setItem(\"Items\", data.data);\n// console.log(localStorage.getItem(\"Items\"))\n});axios.delete(\"/api/v1/premadetrip/Pulau\",config).then(function(data){console.log(data.data);// localStorage.setItem(\"Items\", data.data);\n// console.log(localStorage.getItem(\"Items\"))\n});axios.delete(\"/api/v1/premadetrip/Discover\",config).then(function(data){console.log(data.data);// localStorage.setItem(\"Items\", data.data);\n// console.log(localStorage.getItem(\"Items\"))\n});}function checkout(){var token=localStorage.getItem(\"Token\");var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.post(\"/api/v1/premadetrip\",config).then(function(data){console.log(data.data);localStorage.setItem(\"Items\",data.data);// console.log(localStorage.getItem(\"Items\"))\n});}function get(){var token=localStorage.getItem(\"Token\");var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.get(\"/api/v1/premadetrip\",config).then(function(data){console.log(data.data);localStorage.setItem(\"Items\",data.data);// console.log(localStorage.getItem(\"Items\"))\n});// const array = localStorage.getItem(\"Items\");\n// for (let i = 0; i < array.length; i++) {\n//   if (array[i].tripCode == \"Marina\") {\n//     products[0].valid = true;\n//   }\n//   if (array[i].tripCode == \"History\") {\n//     products[1].valid = true;\n//   }\n//   if (array[i].tripCode == \"Zoo\") {\n//     products[2].valid = true;\n//   }\n// }\n}// const options = {\n//   // passing the client secret obtained from the server\n//   clientSecret: \"{{CLIENT_SECRET}}\",\n// };\nfunction getcartitems(){}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Cart\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Recommendations\"})}),/*#__PURE__*/_jsx(\"div\",{children:products.map(function(p){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return addItem(p);},children:[\"Add to cart \",p.name]})},p.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartbox\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Cart \\uD83D\\uDED2 (\",totalUniqueItems,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"listgroup\",children:items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{children:[item.quantity,\" x \",item.name,\" : $\",item.price*item.quantity,\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"cartbtn\",onClick:function onClick(){return updateItemQuantity(item.id,item.quantity-1);},children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cartbtn\",onClick:function onClick(){return updateItemQuantity(item.id,item.quantity+1);},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cartbtn\",onClick:function onClick(){return removeItem(item.id);},children:\"\\xD7\"})]},item.id);})}),/*#__PURE__*/_jsx(\"button\",{className:\"cartbtn\",onClick:delmarina,children:\" delete all\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cartbtn\",onClick:checkout,children:\"check out\"})]})]});}export default Cart;","map":{"version":3,"names":["React","useState","useNavigate","Header","Home","data","axios","CartProvider","useCart","AccountContext","Status","Cart","props","addItem","products","id","name","price","quantity","valid","isEmpty","totalUniqueItems","items","updateItemQuantity","removeItem","delmarina","token","localStorage","getItem","config","headers","Authorization","delete","then","console","log","checkout","post","setItem","get","getcartitems","map","p","item"],"sources":["/Users/austenleow/Desktop/travel-app-main/src/Pages/Cart.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport Home from \"../components/Home\";\nimport data from \"../data\";\nimport axios from \"axios\";\nimport { CartProvider, useCart } from \"react-use-cart\";\nimport { AccountContext } from \"../components/cognito-api/Account\";\nimport Status from \"../components/cognito-api/Status\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import {PaymentElement} from '@stripe/react-stripe-js';\n\n// const stripePromise = loadStripe(\"pk_test_GvF3BSyx8RSXMK5yAFhqEd3H\");\n\n// const CheckoutForm = () => {\n//   return (\n//     <form>\n//       <PaymentElement />\n//       <button>Submit</button>\n//     </form>\n//   );\n// };\n\nfunction Cart(props) {\n  const { addItem } = useCart();\n\n  const products = [\n    {\n      id: 1,\n      name: \"Marina\",\n      price: 200,\n      quantity: 1,\n      valid: false,\n    },\n    {\n      id: 2,\n      name: \"History\",\n      price: 20,\n      quantity: 1,\n      valid: false,\n    },\n    {\n      id: 3,\n      name: \"Zoo\",\n      price: 30,\n      quantity: 1,\n      valid: false,\n    },\n    {\n      id: 4,\n      name: \"Discover\",\n      price: 30,\n      quantity: 1,\n      valid: false,\n    },\n    {\n      id: 5,\n      name: \"Pulau\",\n      price: 30,\n      quantity: 1,\n      valid: false,\n    },\n  ];\n\n  const { isEmpty, totalUniqueItems, items, updateItemQuantity, removeItem } =\n    useCart();\n\n    \n\n    function delmarina(){\n      const token = localStorage.getItem(\"Token\");\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      };\n  \n      axios.delete(`/api/v1/premadetrip/Marina`, config).then((data) => {\n        console.log(data.data);\n        // localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n\n      axios.delete(`/api/v1/premadetrip/History`, config).then((data) => {\n        console.log(data.data);\n        // localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n\n      axios.delete(`/api/v1/premadetrip/Zoo`, config).then((data) => {\n        console.log(data.data);\n        // localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n\n      axios.delete(`/api/v1/premadetrip/Pulau`, config).then((data) => {\n        console.log(data.data);\n        // localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n\n      axios.delete(`/api/v1/premadetrip/Discover`, config).then((data) => {\n        console.log(data.data);\n        // localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n    }\n\n    function checkout() {\n      const token = localStorage.getItem(\"Token\");\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      };\n  \n      axios.post(`/api/v1/premadetrip`, config).then((data) => {\n        console.log(data.data);\n        localStorage.setItem(\"Items\", data.data);\n        // console.log(localStorage.getItem(\"Items\"))\n      });\n    }\n\n  function get() {\n    const token = localStorage.getItem(\"Token\");\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    axios.get(`/api/v1/premadetrip`, config).then((data) => {\n      console.log(data.data);\n      localStorage.setItem(\"Items\", data.data);\n      // console.log(localStorage.getItem(\"Items\"))\n    });\n\n    \n    // const array = localStorage.getItem(\"Items\");\n    // for (let i = 0; i < array.length; i++) {\n    //   if (array[i].tripCode == \"Marina\") {\n    //     products[0].valid = true;\n    //   }\n\n    //   if (array[i].tripCode == \"History\") {\n    //     products[1].valid = true;\n    //   }\n\n    //   if (array[i].tripCode == \"Zoo\") {\n    //     products[2].valid = true;\n    //   }\n    // }\n  }\n\n\n  // const options = {\n  //   // passing the client secret obtained from the server\n  //   clientSecret: \"{{CLIENT_SECRET}}\",\n  // };\n\n  function getcartitems() {}\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"Cart\">\n        <h2>Recommendations</h2>\n        {/* <button onClick={get}>get cart items</button> */}\n      </div>\n      <div>\n        {products.map((p) => (\n          <div key={p.id}>\n            <button onClick={() => addItem(p)}>Add to cart {p.name}</button>\n          </div>\n        ))}\n      </div>\n      <div className=\"cartbox\">\n      <h1>Cart 🛒 ({totalUniqueItems})</h1>\n\n      <ul className=\"listgroup\">\n        {items.map((item) => (\n          <li key={item.id}>\n            {item.quantity} x {item.name} : ${item.price * item.quantity} &nbsp;\n            <button className=\"cartbtn\"\n              onClick={() => updateItemQuantity(item.id, item.quantity - 1)}\n            >\n              -\n            </button>\n            <button className=\"cartbtn\"\n              onClick={() => updateItemQuantity(item.id, item.quantity + 1)}\n            >\n              +\n            </button>\n            <button className=\"cartbtn\" onClick={() => removeItem(item.id)}>&times;</button>\n          </li>\n        ))}\n      </ul>\n      <button className=\"cartbtn\" onClick={delmarina}> delete all</button>\n      <button className=\"cartbtn\" onClick={checkout}>check out</button>\n\n      {/* <Elements stripe={stripePromise} options={options}>\n        <CheckoutForm />\n      </Elements> */}\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}