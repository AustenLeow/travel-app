{"ast":null,"code":"import _defineProperty from \"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/austenleow/Desktop/travel-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { list, save, clear, listen } from './utils/localstorage';\n\nvar get = function get(id) {\n  return list().find(function (product) {\n    return product.id === id;\n  });\n};\n\nvar exists = function exists(id) {\n  return !!get(id);\n};\n\nvar add = function add(product, quantity) {\n  return isValid(product) ? exists(product.id) ? update(product.id, 'quantity', get(product.id).quantity + (quantity || 1)) : save(list().concat(_objectSpread(_objectSpread({}, product), {}, {\n    quantity: quantity || 1\n  }))) : null;\n};\n\nvar remove = function remove(id) {\n  return save(list().filter(function (product) {\n    return product.id !== id;\n  }));\n};\n\nvar quantity = function quantity(id, diff) {\n  return exists(id) && get(id).quantity + diff > 0 ? update(id, 'quantity', get(id).quantity + diff) : remove(id);\n};\n\nvar update = function update(id, field, value) {\n  return save(list().map(function (product) {\n    return product.id === id ? _objectSpread(_objectSpread({}, product), {}, _defineProperty({}, field, value)) : product;\n  }));\n};\n\nvar total = function total(cb) {\n  return list().reduce(function (sum, product) {\n    return isCallback(cb) ? cb(sum, product) : sum += subtotal(product);\n  }, 0);\n};\n\nvar destroy = function destroy() {\n  return clear();\n};\n\nvar onChange = function onChange(cb) {\n  return isCallback(cb) ? listen(cb) : console.log(typeof cb);\n};\n\nvar isValid = function isValid(product) {\n  return product.id && product.price;\n};\n\nvar subtotal = function subtotal(product) {\n  return isCalcable(product) ? product.price * product.quantity : 0;\n};\n\nvar isCalcable = function isCalcable(product) {\n  return product && product.price && product.quantity;\n};\n\nvar isCallback = function isCallback(cb) {\n  return cb && typeof cb === \"function\";\n};\n\nexport { list, get, add, remove, update, quantity, total, destroy, exists, subtotal, onChange };","map":{"version":3,"names":["list","save","clear","listen","get","id","find","product","exists","add","quantity","isValid","update","concat","remove","filter","diff","field","value","map","total","cb","reduce","sum","isCallback","subtotal","destroy","onChange","console","log","price","isCalcable"],"sources":["/Users/austenleow/Desktop/travel-app-main/node_modules/cart-localstorage/index.js"],"sourcesContent":["import { list, save, clear, listen } from './utils/localstorage'\n\nconst get = (id) => list().find((product) => product.id === id)\n\nconst exists = (id) => !!get(id)\n\nconst add = (product, quantity) => isValid(product) ? exists(product.id) ? update(product.id, 'quantity', get(product.id).quantity + (quantity || 1)) : save(list().concat({ ...product, quantity: quantity || 1 })) : null;\n\nconst remove = (id) => save(list().filter((product) => product.id !== id))\n\nconst quantity = (id, diff) => exists(id) && get(id).quantity + diff > 0 ? update(id, 'quantity', get(id).quantity + diff) : remove(id);\n\nconst update = (id, field, value) => save(list().map((product) => product.id === id ? ({ ...product, [field]: value }) : product))\n\nconst total = (cb) => list().reduce((sum, product) => isCallback(cb) ? cb(sum, product) : (sum += subtotal(product)), 0);\n\nconst destroy = () => clear()\n\nconst onChange = (cb) => isCallback(cb) ? listen(cb) : console.log(typeof cb)\n\n\nconst isValid = (product) => product.id && product.price\n\nconst subtotal = (product) => isCalcable(product) ? (product.price * product.quantity) : 0\n\nconst isCalcable = (product) => (product && product.price && product.quantity)\n\nconst isCallback = (cb) => cb && typeof cb === \"function\"\n\nexport { list, get, add, remove, update, quantity, total, destroy, exists, subtotal, onChange };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}